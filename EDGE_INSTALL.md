# Edge浏览器（华为平板）安装和使用指南

## 📱 兼容性说明

本扩展已优化支持：
- ✅ Microsoft Edge（基于Chromium）
- ✅ 触摸设备（平板、手机）
- ✅ 华为平板

## 🔧 已优化的功能

### 1. **触摸支持**
- ✅ PDF侧边栏支持触摸拖拽
- ✅ 所有按钮支持触摸点击
- ✅ 触摸友好的按钮尺寸（最小44px高度）
- ✅ 防止触摸滚动冲突

### 2. **平板UI优化**
- ✅ 响应式布局（自动适配屏幕宽度）
- ✅ 更大的触摸区域
- ✅ 优化的按钮间距
- ✅ 平板设备上悬浮按钮尺寸增大

### 3. **Edge浏览器兼容**
- ✅ Manifest V3 兼容
- ✅ Chrome API 完全兼容（Edge基于Chromium）
- ✅ 无需额外配置

## 📦 安装步骤

### 方法一：从源码安装（推荐）

1. **下载或克隆项目**
   ```bash
   git clone https://github.com/flowinginthewind700/OpenImmerseTranslate.git
   cd OpenImmerseTranslate
   ```

2. **构建项目**
   ```bash
   npm install
   npm run build
   ```

3. **在Edge中加载扩展**
   - 打开 Edge 浏览器
   - 访问 `edge://extensions/`
   - 开启右上角「**开发人员模式**」
   - 点击「**加载解压缩的扩展**」
   - 选择 `dist/OpenImmerseTranslate` 文件夹

### 方法二：直接加载源码

1. 打开 Edge 浏览器
2. 访问 `edge://extensions/`
3. 开启「**开发人员模式**」
4. 点击「**加载解压缩的扩展**」
5. 选择项目根目录（包含 `manifest.json` 的文件夹）

## 🎯 使用说明

### PDF翻译（手动模式）

1. **打开PDF文件**
   - 在Edge中打开PDF文件

2. **启动翻译**
   - 点击页面右侧的悬浮翻译按钮 🌐
   - 或点击扩展图标 → 翻译当前页面

3. **使用手动翻译**
   - PDF侧边栏会自动显示
   - 切换到「**手动翻译**」标签
   - 在PDF中选择文本（会自动填充）
   - 或手动输入/粘贴要翻译的文本
   - 点击「**翻译**」按钮
   - 查看翻译结果，支持复制

### 触摸操作

- **拖拽侧边栏**：按住侧边栏头部拖动
- **切换标签**：点击标签页切换
- **翻译按钮**：点击「翻译」按钮进行翻译
- **复制翻译**：点击「复制翻译」按钮

## ⚙️ 配置说明

### 首次使用

1. 点击扩展图标打开设置
2. 选择翻译服务：
   - **Google翻译**（免费，默认）
   - **DeepSeek**（推荐，需要API Key）
   - 或其他LLM服务

3. 配置API密钥（如使用DeepSeek等）
4. 选择目标语言（默认：简体中文）

## 🔍 故障排查

### 问题1：扩展无法加载

**解决方案：**
- 确保开启了「开发人员模式」
- 检查 `manifest.json` 是否存在
- 查看 `edge://extensions/` 中的错误信息

### 问题2：PDF侧边栏不显示

**解决方案：**
- 刷新PDF页面
- 检查控制台是否有错误（F12）
- 确保PDF文件已完全加载

### 问题3：触摸操作不响应

**解决方案：**
- 确保使用最新版本的代码
- 检查浏览器是否支持触摸事件
- 尝试点击而非滑动

### 问题4：翻译按钮点击无效

**解决方案：**
- 检查是否配置了API密钥（如需要）
- 查看控制台错误信息
- 检查网络连接

## 📝 技术细节

### 触摸事件处理

代码已添加完整的触摸事件支持：
- `touchstart` - 触摸开始
- `touchmove` - 触摸移动
- `touchend` - 触摸结束
- `touchcancel` - 触摸取消

### 响应式设计

- 使用 `@media` 查询适配不同屏幕
- 平板设备（768px-1024px）自动增大按钮
- 移动设备自动调整侧边栏宽度

### Edge兼容性

- Edge基于Chromium，完全兼容Chrome扩展API
- 使用 `chrome.*` API（Edge自动兼容）
- Manifest V3 标准配置

## 🆘 获取帮助

如遇到问题，请：
1. 查看浏览器控制台（F12）的错误信息
2. 检查扩展的权限设置
3. 提交Issue到GitHub仓库

## 📄 许可证

MIT License
